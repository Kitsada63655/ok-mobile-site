<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>‡πÇ‡∏≠‡πÄ‡∏Ñ ‡πÇ‡∏°‡∏ö‡∏≤‡∏¢ | ‡∏£‡πâ‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary:   '#4f46e5',
            secondary: '#ec4899',
            accent:    '#06b6d4'
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">

  <!-- Header / Hero / Cart / Warranty / Footer ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° -->

  <!-- Product Section -->
  <section id="products" class="p-6 max-w-6xl mx-auto">
    <h3 class="text-xl font-semibold mb-4">üì± ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
    <div id="product-list" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
  </section>

  <script>
    // ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (‡∏¢‡πà‡∏≠)
    let cart = JSON.parse(localStorage.getItem('cart')||'[]');
    function updateCartDisplay(){ /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ... */ }
    function addToCart(n,p){ /* ... */ }
    function removeFromCart(i){ /* ... */ }

    // ‡∏î‡∏∂‡∏á JSON Feed ‡∏à‡∏≤‡∏Å Google Sheets
    async function loadProducts() {
      const sheetId = '1MNmqRmiu4-8s1V9lI8oV1Gn5wb0jYqYs-xhkj-UZ0FM';  // ‡πÅ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
      const url = `https://spreadsheets.google.com/feeds/list/${sheetId}/od6/public/values?alt=json`;

      try {
        const res  = await fetch(url);
        const data = await res.json();
        const entries = data.feed.entry;
        const productList = document.getElementById('product-list');
        productList.innerHTML = '';

        entries.forEach(e => {
          // ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏ä‡∏∑‡πà‡∏≠, ‡∏£‡∏≤‡∏Ñ‡∏≤, ‡∏£‡∏π‡∏õ‡∏à‡∏≤‡∏Å‡∏ü‡∏¥‡∏•‡∏î‡πå gsx$
          const name  = e['gsx$name']?.$t  || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠';
          const price = e['gsx$price']?.$t || '0';
          const image = e['gsx$image']?.$t || '';

          const card = document.createElement('div');
          card.className = 'bg-white p-4 rounded-2xl shadow hover:shadow-lg transition';
          card.innerHTML = `
            <img src="${image}" alt="${name}"
                 class="rounded mb-3 w-full h-48 object-cover"
                 onerror="this.src='https://i.imgur.com/Cy560I4.jpg'">
            <h3 class="text-lg font-bold">${name}</h3>
            <p class="text-secondary font-semibold">‡∏ø${price}</p>
            <button onclick="addToCart('${name}',${price})"
                    class="mt-2 px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700">
              ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
            </button>
          `;
          productList.appendChild(card);
        });

        updateCartDisplay();
      } catch(err) {
        console.error('Fetch JSON Feed ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:', err);
      }
    }

    window.addEventListener('DOMContentLoaded', () => {
      loadProducts();
      updateCartDisplay();
    });
  </script>
</body>
</html>
